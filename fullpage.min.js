(function(t){"use strict";function i(t,i){let s;for(s in i)i.hasOwnProperty(s)&&(t[s]=i[s]);return t}function s(t){this.options=i({},this.options),i(this.options,t),this._init()}function e(t,i){t.classList.add("active"),i.classList.add("active"),n(i).forEach(t=>t.classList.remove("active"))}function n(t){var i=t.parentElement.children,s=[];return Array.from(i).forEach(t=>{s.push(t)}),s.filter(i=>i!=t)}function o(t,i){var s;return function(){if(i=i||null,!s)return t.apply(i,arguments),s=!0,setTimeout(()=>{s=!1},100)}}s.prototype.options={wrapper:".fullpage",speed:700,minHeight:750},s.prototype._init=function(){this.wrapper=document.querySelector(this.options.wrapper),this.area=this.wrapper.querySelector(".scroll-area"),this.sector=this.wrapper.querySelectorAll(".sector"),this.menu=document.querySelectorAll(".menu li"),this.leng=this.sector.length,this.step=t.innerHeight,this.num=0,this.isMoving=!1,this.direction,this.area.style.transitionProperty="transform",this.step>this.options.minHeight&&t.addEventListener("load",()=>{this.getHash(this.options.speed)}),t.addEventListener("resize",()=>{this.step=t.innerHeight,this.getHash(0)}),this._initEvents()},s.prototype._initEvents=function(){this.wrapper.addEventListener("wheel",o(t=>{this.direction=t.wheelDelta<0?"down":"up",this.move()})),document.addEventListener("keydown",t=>{"ArrowDown"!=t.key&&"ArrowUp"!=t.key||("ArrowDown"==t.key?this.direction="down":"ArrowUp"==t.key?this.direction="up":this.direction=null,this.move())}),this.menu.forEach((t,i)=>{t.addEventListener("click",()=>{this.setHash(this.sector[i]),this.num=i,this.scrollMove(this.options.speed),e(this.sector[i],t)})})},s.prototype.on=function(t,i){this.listeners=this.listener||{},this.listeners[t]=this.listeners[t]||[],this.listeners[t].push(i)},s.prototype.emit=function(t){if(this.listeners=this.listeners||{},t in this.listeners!=!1)for(var i=0;i<this.listeners[t].length;i++)this.listeners[t][i].apply(this,[].slice.call(arguments,1))},s.prototype.getData=function(){return this.num},s.prototype.getIndex=((t,i)=>[].indexOf.call(t,i)),s.prototype.setHash=(t=>{const i=`#${t.dataset.anchor}`;history.pushState({},"",i)}),s.prototype.getHash=function(t){const i=location.hash.replace("#","");""!=i&&(this.num=this.getIndex(this.sector,this.wrapper.querySelector(`.${i}`))),this.scrollMove(t),e(this.sector[this.num],this.menu[this.num])},s.prototype.setDirection=function(t,i){"down"==this.direction?t>=i?this.num:this.num++:"up"==this.direction&&(this.num<=0?this.num:this.num--)},s.prototype.move=function(){if(!this.isMoving){if(this.isMoving=!0,this.step>this.options.minHeight)this.setDirection(this.num,this.leng-1),this.sector.forEach((t,i)=>{i==this.num&&e(t,this.menu[i])}),this.setHash(this.sector[this.num]),setTimeout(()=>{this.isMoving=!1},this.options.speed);else{const i=this.area.offsetHeight;this.step=i/(2*this.leng);const s=this.step*this.num;this.setDirection(s,i-t.innerHeight),this.sector.forEach((i,s)=>{this.num*this.step+t.innerHeight/1.2>i.offsetTop&&e(i,this.menu[s])}),setTimeout(()=>{this.isMoving=!1},100)}this.scrollMove(this.options.speed)}},s.prototype.scrollMove=function(t){this.area.style.transitionDuration=`${t}ms`,this.area.style.transform=`translate3d(0, ${-this.step*this.num}px, 0)`,this.emit("scroll",this.getData())},t.Fullpage=s})(window);